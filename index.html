<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Simple E‑Commerce Web App</title>
  <style>
    :root{
      --accent:#0f62fe; --muted:#6b7280; --bg:#f8fafc; --card:#ffffff;
      --radius:12px; font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }
    *{box-sizing:border-box}
    body{margin:0;background:var(--bg);color:#111}
    header{display:flex;align-items:center;justify-content:space-between;padding:18px 24px;background:linear-gradient(90deg,#fff 0%, #f7fbff 100%);box-shadow:0 2px 8px rgba(15,22,39,0.04)}
    .logo{display:flex;gap:12px;align-items:center}
    .logo .mark{width:42px;height:42px;border-radius:10px;background:var(--accent);display:grid;place-items:center;color:#fff;font-weight:700}
    .search{flex:1;max-width:520px;margin:0 20px}
    .search input{width:100%;padding:10px 12px;border-radius:10px;border:1px solid #e6eef8;background:#fff}
    .main{display:grid;grid-template-columns:1fr 360px;gap:20px;padding:24px;max-width:1200px;margin:20px auto}
    .products{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:18px}
    .card{background:var(--card);border-radius:var(--radius);padding:14px;box-shadow:0 6px 18px rgba(12,18,30,0.06);display:flex;flex-direction:column;gap:10px}
    .thumb{height:160px;border-radius:10px;background:#eef6ff;display:grid;place-items:center}
    .title{font-weight:600}
    .price{color:var(--accent);font-weight:700}
    .meta{display:flex;justify-content:space-between;align-items:center}
    .btn{padding:8px 12px;border-radius:10px;border:0;background:var(--accent);color:#fff;cursor:pointer}
    aside.cart{background:var(--card);border-radius:var(--radius);padding:16px;height:fit-content;position:sticky;top:24px;box-shadow:0 6px 18px rgba(12,18,30,0.06)}
    .cart h3{margin:0 0 8px 0}
    .cart-list{display:flex;flex-direction:column;gap:12px;max-height:360px;overflow:auto;padding-right:6px}
    .cart-item{display:flex;gap:10px;align-items:center}
    .cart-item img{width:56px;height:56px;border-radius:8px;object-fit:cover}
    .qty{display:flex;align-items:center;gap:6px}
    .muted{color:var(--muted);font-size:13px}
    footer{padding:18px;text-align:center;color:var(--muted)}
    .modal-backdrop{position:fixed;inset:0;background:rgba(2,6,23,0.5);display:none;align-items:center;justify-content:center}
    .modal{background:var(--card);padding:18px;border-radius:12px;max-width:720px;width:95%}
    @media(max-width:960px){.main{grid-template-columns:1fr}.search{margin:12px 0}.logo .mark{width:36px;height:36px}}
  </style>
</head>
<body>
  <header>
    <div class="logo">
      <div class="mark">E</div>
      <div>
        <div style="font-weight:700">Storefront</div>
        <div class="muted" style="font-size:12px">Simple e‑commerce demo</div>
      </div>
    </div>

    <div class="search">
      <input id="search" placeholder="Search products, e.g. headphones" />
    </div>

    <div style="display:flex;gap:12px;align-items:center">
      <button id="openCart" class="btn">Cart (<span id="cart-count">0</span>)</button>
    </div>
  </header>

  <main class="main">
    <section>
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px">
        <h2 style="margin:0">Products</h2>
        <div class="muted">Showing <span id="product-count">0</span> items</div>
      </div>

      <div class="products" id="products"></div>
    </section>

    <aside class="cart" id="cart">
      <h3>Your Cart</h3>
      <div class="cart-list" id="cart-list">
        <div class="muted">No items yet — add something from the product list.</div>
      </div>
      <hr style="margin:12px 0;border:none;border-top:1px solid #eef2f7">
      <div style="display:flex;justify-content:space-between;align-items:center">
        <div>
          <div class="muted">Total</div>
          <div style="font-weight:800;font-size:18px" id="cart-total">₹0.00</div>
        </div>
        <div style="display:flex;flex-direction:column;gap:8px">
          <button id="checkout" class="btn">Checkout</button>
          <button id="clear-cart" style="background:#eef2f7;color:var(--accent);border-radius:10px;padding:8px 12px;border:0;cursor:pointer">Clear</button>
        </div>
      </div>
    </aside>
  </main>

  <div class="modal-backdrop" id="modal">
    <div class="modal" role="dialog" aria-modal="true">
      <h3 id="modal-title">Checkout</h3>
      <p class="muted">This is a demo checkout — no real payments are processed.</p>
      <div id="checkout-preview" style="margin-top:12px"></div>
      <div style="display:flex;justify-content:flex-end;gap:8px;margin-top:16px">
        <button id="cancel" style="padding:8px 12px;border-radius:8px;border:1px solid #e6eef8;background:#fff;cursor:pointer">Cancel</button>
        <button id="confirm" class="btn">Confirm Order</button>
      </div>
    </div>
  </div>

  <footer>
    Built with ❤️ — demo e‑commerce app (HTML/CSS/JS). Want this as React or with real backend? Ask and I'll convert it.
  </footer>

  <script>
    const PRODUCTS = [
      {id:1,title:'Wireless Headphones',price:2999,desc:'Noise cancelling, 30h battery',img:sampleSVG('Headphones')},
      {id:2,title:'Smart Watch',price:4999,desc:'Heart rate + notifications',img:sampleSVG('Watch')},
      {id:3,title:'Portable Speaker',price:1999,desc:'Waterproof, powerful bass',img:sampleSVG('Speaker')},
      {id:4,title:'Wireless Mouse',price:799,desc:'Ergonomic, silent clicks',img:sampleSVG('Mouse')},
      {id:5,title:'Mechanical Keyboard',price:2599,desc:'RGB backlight, tactile switches',img:sampleSVG('Keyboard')}
    ];
    const CART_KEY = 'demo_cart_v1';
    let cart = loadCart();
    const productsEl = document.getElementById('products');
    const productCountEl = document.getElementById('product-count');
    const cartListEl = document.getElementById('cart-list');
    const cartTotalEl = document.getElementById('cart-total');
    const cartCountEl = document.getElementById('cart-count');
    const searchInput = document.getElementById('search');
    const modal = document.getElementById('modal');
    const checkoutPreview = document.getElementById('checkout-preview');

    function sampleSVG(label){
      const svg = `<svg xmlns='http://www.w3.org/2000/svg' width='400' height='300' viewBox='0 0 400 300'><rect width='100%' height='100%' rx='12' fill='%23eef6ff'/><text x='50%' y='50%' dominant-baseline='middle' text-anchor='middle' fill='%230b2a55' font-size='28' font-family='Arial,Helvetica,sans-serif'>${label}</text></svg>`;
      return 'data:image/svg+xml;utf8,' + encodeURIComponent(svg);
    }

    function loadCart(){
      try{const raw = localStorage.getItem(CART_KEY); return raw? JSON.parse(raw): {} }catch(e){return {}}
    }
    function saveCart(){ localStorage.setItem(CART_KEY, JSON.stringify(cart)); }
     function renderProducts(list){
      productsEl.innerHTML = '';
      list.forEach(p=>{
        const card = document.createElement('article'); card.className = 'card';
        card.innerHTML = `
          <div class="thumb"><img src="${p.img}" alt="${p.title}" style="max-width:90%;max-height:90%"/></div>
          <div>
            <div class="title">${p.title}</div>
            <div class="muted" style="font-size:13px">${p.desc}</div>
          </div>
          <div class="meta">
            <div class="price">₹${formatPrice(p.price)}</div>
            <div>
              <button class="btn" data-id="${p.id}">Add</button>
            </div>
          </div>
        `;
        productsEl.appendChild(card);
      });
      productCountEl.textContent = list.length;
      productsEl.querySelectorAll('button.btn').forEach(b=>b.addEventListener('click',()=>{
        const id = Number(b.dataset.id); addToCart(id); }
      ));
    }
    function renderCart(){
      cartListEl.innerHTML = '';
      const ids = Object.keys(cart);
      if(!ids.length){ cartListEl.innerHTML = '<div class="muted">No items yet — add something from the product list.</div>'; cartCountEl.textContent = 0; cartTotalEl.textContent = '₹0.00'; return }
      let total = 0;
      ids.forEach(id=>{
        const qty = cart[id];
        const prod = PRODUCTS.find(p=>p.id===Number(id));
        const row = document.createElement('div'); row.className='cart-item';
        row.innerHTML = `
          <img src="${prod.img}" alt="${prod.title}" />
          <div style="flex:1">
            <div style="font-weight:700">${prod.title}</div>
            <div class="muted">₹${formatPrice(prod.price)} &middot; <span class="muted">x${qty}</span></div>
          </div>
          <div style="display:flex;flex-direction:column;align-items:flex-end;gap:6px">
            <div class="qty">
              <button data-act="dec" data-id="${id}" style="padding:6px 8px;border-radius:6px;border:1px solid #eef2f7;background:#fff;cursor:pointer">-</button>
              <div style="min-width:28px;text-align:center">${qty}</div>
              <button data-act="inc" data-id="${id}" style="padding:6px 8px;border-radius:6px;border:1px solid #eef2f7;background:#fff;cursor:pointer">+</button>
            </div>
            <button data-act="remove" data-id="${id}" style="font-size:12px;border:0;background:transparent;color:var(--muted);cursor:pointer">Remove</button>
          </div>
        `;
        cartListEl.appendChild(row);
        total += prod.price * qty;
      });
      cartCountEl.textContent = ids.reduce((s,id)=>s+cart[id],0);
      cartTotalEl.textContent = `₹${formatPrice(total)}`;
      cartListEl.querySelectorAll('button').forEach(btn=>{
        btn.addEventListener('click', ()=>{
          const act = btn.dataset.act; const id = btn.dataset.id;
          if(act==='inc'){ cart[id] = (cart[id]||0)+1 }
          if(act==='dec'){ cart[id] = Math.max(0,(cart[id]||0)-1); if(cart[id]===0) delete cart[id] }
          if(act==='remove'){ delete cart[id] }
          saveCart(); renderCart();
        })
      });
    }
    function addToCart(id){ cart[id] = (cart[id]||0)+1; saveCart(); renderCart(); }
    function clearCart(){ cart = {}; saveCart(); renderCart(); }

    function formatPrice(n){ return n.toLocaleString('en-IN') }
    searchInput.addEventListener('input', ()=>{
      const q = searchInput.value.trim().toLowerCase();
      const filtered = PRODUCTS.filter(p=> (p.title+ ' ' + p.desc).toLowerCase().includes(q));
      renderProducts(filtered);
    });
    document.getElementById('checkout').addEventListener('click', ()=>{
      const ids = Object.keys(cart);
      if(!ids.length){ alert('Your cart is empty.'); return }
      checkoutPreview.innerHTML = '';
      let total = 0;
      ids.forEach(id=>{
        const p = PRODUCTS.find(x=>x.id===Number(id));
        const qty = cart[id];
        const line = document.createElement('div'); line.style.display='flex'; line.style.justifyContent='space-between'; line.style.padding='6px 0';
        line.innerHTML = `<div>${p.title} × ${qty}</div><div>₹${formatPrice(p.price*qty)}</div>`;
        checkoutPreview.appendChild(line); total += p.price*qty;
      });
      const hr = document.createElement('hr'); hr.style.border='none'; hr.style.borderTop='1px solid #eef2f7'; hr.style.margin='8px 0';
      checkoutPreview.appendChild(hr);
      const tot = document.createElement('div'); tot.style.display='flex'; tot.style.justifyContent='space-between'; tot.style.fontWeight='800'; tot.innerHTML = `<div>Total</div><div>₹${formatPrice(total)}</div>`;
      checkoutPreview.appendChild(tot);
      modal.style.display = 'flex';
    });
    document.getElementById('cancel').addEventListener('click', ()=>{ modal.style.display='none' });
    document.getElementById('confirm').addEventListener('click', ()=>{
      modal.style.display='none';
      const orderId = 'ORD' + Math.floor(Math.random()*900000+100000);
      alert('Order placed! Order id: '+orderId);
      clearCart();
    });
      document.getElementById('openCart').addEventListener('click', ()=>{
      window.scrollTo({top:0,behavior:'smooth'});
      const el = document.querySelector('aside.cart'); el.style.transition='box-shadow 0.3s'; el.style.boxShadow='0 8px 28px rgba(15,22,39,0.12)'; setTimeout(()=>el.style.boxShadow='0 6px 18px rgba(12,18,30,0.06)',700);
    });
     document.getElementById('clear-cart').addEventListener('click', ()=>{ if(confirm('Clear cart?')) clearCart() });
    renderProducts(PRODUCTS);
    renderCart();
    modal.addEventListener('click', (e)=>{ if(e.target === modal) modal.style.display='none' });
   </script>
</body>
</html>
